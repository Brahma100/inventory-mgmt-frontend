{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\spicy\\\\Downloads\\\\Inventory-management-17\\\\client\\\\src\\\\components\\\\views\\\\Dashboard.js\";\nimport React, { Component } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\nimport Card from \"../Card/Card.js\";\nimport StatsCard from \"../StatsCard/StatsCard.js\";\nimport { legendPie, responsiveSales } from \"../Variables/Variables.js\";\nimport AnimatedCard from \"../AnimatedCard/AnimatedCard\";\nimport { connect } from \"react-redux\";\nimport { getItems } from '../../action/itemAction';\nimport { getOrders } from '../../action/orderAction';\nimport { faCubes, faTruckLoading } from \"@fortawesome/free-solid-svg-icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lowStock: 0,\n      highStock: 0,\n      trending: 0,\n      outOfStock: 0,\n      showArea: true\n    };\n  }\n\n  componentDidMount() {\n    this.props.getItems();\n  }\n\n  createLegend(json) {\n    var legend = [];\n\n    for (var i = 0; i < json[\"names\"].length; i++) {\n      var type = \"fa fa-circle text-\" + json[\"types\"][i];\n      legend.push( /*#__PURE__*/_jsxDEV(\"i\", {\n        className: type\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }, this));\n      legend.push(\" \");\n      legend.push(json[\"names\"][i]);\n    }\n\n    return legend;\n  }\n\n  render() {\n    var products = this.props.products;\n    var highStock = 0;\n    var lowStock = 0;\n    var OutOfStock = 0;\n    var trending = 0;\n    var optionsSales = {\n      low: 0,\n      high: this.props.products.length / 2 * 3,\n      showArea: this.state.showArea,\n      height: \"245px\",\n      axisX: {\n        showGrid: false\n      },\n      lineSmooth: true,\n      showLine: true,\n      showPoint: true,\n      fullWidth: true,\n      chartPadding: {\n        right: 50\n      }\n    };\n    var legendSales = {\n      names: [\"Orders\", \"Product Added\"],\n      types: [\"info\", \"danger\"]\n    };\n\n    const OrderDate = () => {\n      let labels = [];\n      let Orders = [];\n      let Products = [];\n      var date = new Date();\n      var dates = [];\n\n      function pad(n) {\n        return n < 10 ? \"0\" + n : n;\n      }\n\n      for (let i = 6; i >= 0; i--) {\n        var tempDate = new Date();\n        tempDate.setDate(date.getDate() - i);\n        console.log(\"Current date:\", tempDate.toLocaleDateString());\n        var str = pad(tempDate.getFullYear()) + \"-\" + pad(tempDate.getMonth() + 1) + \"-\" + pad(tempDate.getDate());\n        var shortdate = tempDate.toLocaleDateString().split(\"/\");\n        dates.push(shortdate[0] + \"/\" + shortdate[1]);\n        labels.push(str);\n      } //  console.log(\"Dates:\",labels);\n\n\n      if (this.props.orders.length !== 0) {\n        for (let i = 0; i < labels.length; i++) {\n          let j = 0;\n          this.props.orders.map(order => {\n            if (order.date.split(\" \")[0] === labels[i]) j += 1;\n            return;\n          });\n          Orders.push(j);\n        }\n      }\n\n      if (this.props.products.length !== 0) {\n        for (let i = 0; i < labels.length; i++) {\n          let j = 0;\n          this.props.products.map(product => {\n            if (product.date.split(\" \")[0] === labels[i]) j += 1;\n            return;\n          });\n          Products.push(j);\n        }\n      }\n\n      return {\n        labels: dates,\n        series: [Orders, Products]\n      };\n    }; // OrderDate();\n\n\n    const stock = () => {\n      // console.log(\"Stock:\",products);\n      products.map(product => {\n        if (parseInt(product.stock) > 100) highStock += 1;else if (parseInt(product.stock) === 0) OutOfStock += 1;else if (parseInt(product.stock) < 10) lowStock += 1;\n        if (product.rank && parseInt(product.rank) > 0) trending += 1;\n      });\n    };\n\n    stock();\n    var total = highStock + trending + OutOfStock + lowStock;\n    var dataPie1 = {\n      labels: [parseInt(highStock / total * 100) + \"%\", parseInt(trending / total * 100) + \"%\", parseInt(OutOfStock / total * 100) + \"%\", parseInt(lowStock / total * 100) + \"%\"],\n      series: [highStock, trending, OutOfStock, lowStock]\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(AnimatedCard, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: [products.length === 0 ? /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              style: {\n                width: '5rem',\n                height: '5rem'\n              },\n              animation: \"border\",\n              variant: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 118\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 32\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(StatsCard, {\n                color: \"#87CB16\",\n                bigIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-stack-overflow text-success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 26\n                }, this),\n                statsText: \"High Stock\",\n                statsValue: highStock,\n                statsIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-refresh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 28\n                }, this),\n                statsIconText: \"Updated now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(StatsCard, {\n                color: \"#1D62F0\",\n                bigIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-bolt text-primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 26\n                }, this),\n                statsText: \"Trending\",\n                statsValue: trending,\n                statsIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-refresh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 28\n                }, this),\n                statsIconText: \"Updated now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(StatsCard, {\n                color: \"#FF4A55\",\n                bigIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-exclamation-triangle text-danger\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 26\n                }, this),\n                statsText: \"Out Of Stock\",\n                statsValue: OutOfStock,\n                statsIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-refresh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 28\n                }, this),\n                statsIconText: \"Updated now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              sm: 6,\n              children: /*#__PURE__*/_jsxDEV(StatsCard, {\n                color: \"#1DC7EA\",\n                bigIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-info text-info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 26\n                }, this),\n                statsText: \"Low Stock(<10)\",\n                statsValue: lowStock,\n                statsIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-refresh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 28\n                }, this),\n                statsIconText: \"Updated now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              icon: faTruckLoading,\n              statsIcon: \"fa fa-history\",\n              id: \"chartHours\",\n              title: \"Inventory Statistics\",\n              category: \"Weekly Performance of Order/Products\",\n              stats: \"Updated 3 minutes ago\",\n              content: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ct-chart\",\n                children: /*#__PURE__*/_jsxDEV(ChartistGraph, {\n                  data: OrderDate(),\n                  type: \"Line\",\n                  options: optionsSales,\n                  responsiveOptions: responsiveSales\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this),\n              legend: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend\",\n                children: this.createLegend(legendSales)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              icon: faCubes,\n              statsIcon: \"fa fa-clock-o\",\n              title: \"Products Stock\",\n              category: \"Last Campaign Performance\",\n              stats: \"Updated Now\",\n              content: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"chartPreferences\",\n                className: \"ct-chart ct-perfect-fourth\",\n                children: /*#__PURE__*/_jsxDEV(ChartistGraph, {\n                  data: dataPie1,\n                  type: \"Pie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this),\n              legend: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend\",\n                children: this.createLegend(legendPie)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    orders: state.order.orders,\n    products: state.item.items\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getItems,\n  getOrders\n})(Dashboard);","map":{"version":3,"sources":["C:/Users/spicy/Downloads/Inventory-management-17/client/src/components/views/Dashboard.js"],"names":["React","Component","ChartistGraph","Container","Row","Col","Spinner","Card","StatsCard","legendPie","responsiveSales","AnimatedCard","connect","getItems","getOrders","faCubes","faTruckLoading","Dashboard","state","lowStock","highStock","trending","outOfStock","showArea","componentDidMount","props","createLegend","json","legend","i","length","type","push","render","products","OutOfStock","optionsSales","low","high","height","axisX","showGrid","lineSmooth","showLine","showPoint","fullWidth","chartPadding","right","legendSales","names","types","OrderDate","labels","Orders","Products","date","Date","dates","pad","n","tempDate","setDate","getDate","console","log","toLocaleDateString","str","getFullYear","getMonth","shortdate","split","orders","j","map","order","product","series","stock","parseInt","rank","total","dataPie1","display","justifyContent","alignItems","width","mapStateToProps","item","items"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { Container, Row, Col, Spinner } from \"react-bootstrap\";\nimport  Card  from \"../Card/Card.js\";\nimport  StatsCard  from \"../StatsCard/StatsCard.js\";\nimport {\n  legendPie,\n  responsiveSales,\n\n} from \"../Variables/Variables.js\";\nimport AnimatedCard from \"../AnimatedCard/AnimatedCard\";\nimport { connect } from \"react-redux\";\nimport {getItems} from '../../action/itemAction';\nimport {getOrders} from '../../action/orderAction';\nimport { faCubes, faTruckLoading } from \"@fortawesome/free-solid-svg-icons\";\n\nclass Dashboard extends Component {\n\n  state={\n\n      lowStock:0,\n      highStock:0,\n      trending:0,\n      outOfStock:0,\n      showArea:true\n  }\n\n  componentDidMount(){\n    this.props.getItems();\n\n  }\n\n  createLegend(json) {\n    var legend = [];\n    for (var i = 0; i < json[\"names\"].length; i++) {\n      var type = \"fa fa-circle text-\" + json[\"types\"][i];\n      legend.push(<i className={type} key={i} />);\n      legend.push(\" \");\n      legend.push(json[\"names\"][i]);\n    }\n    return legend;\n  }\n  \n  render() {\n    var products=this.props.products;\n\n    var highStock=0;\n    var lowStock=0;\n    var OutOfStock=0;\n    var trending=0;\n\n    var optionsSales = {\n      low: 0,\n      high: this.props.products.length/2*3,\n      showArea: this.state.showArea,\n      height: \"245px\",\n      axisX: {\n        showGrid: false\n      },\n      lineSmooth: true,\n      showLine: true,\n      showPoint: true,\n      fullWidth: true,\n      chartPadding: {\n        right: 50\n      }\n    };\n    var legendSales = {\n      names: [\"Orders\", \"Product Added\"],\n      types: [\"info\", \"danger\"]\n    };\n\n\n    const OrderDate=()=>{\n      let labels=[]\n      let Orders=[]\n      let Products=[]\n      var date = new Date();\n      var dates=[]\n      function pad(n) {\n          return (n < 10) ? (\"0\" + n) : n;\n      }\n      for (let i = 6; i >=0; i--){\n        var tempDate = new Date();\n        tempDate.setDate(date.getDate()-i);\n        console.log(\"Current date:\",tempDate.toLocaleDateString());\n        var str = pad(tempDate.getFullYear()) + \"-\" + pad(tempDate.getMonth()+1)+ \"-\" + pad(tempDate.getDate());\n        var shortdate=tempDate.toLocaleDateString().split(\"/\");\n        dates.push(shortdate[0]+\"/\"+shortdate[1])\n        labels.push(str);  \n      }\n\n    //  console.log(\"Dates:\",labels);\n\n      if(this.props.orders.length!==0){\n          for(let i=0;i<labels.length;i++){\n            let j=0;\n            this.props.orders.map(order=>{\n              if(order.date.split(\" \")[0]===labels[i])\n                   j+=1\n                   return\n            })\n            Orders.push(j);\n          }\n      }\n      if(this.props.products.length!==0){\n          for(let i=0;i<labels.length;i++){\n            let j=0;\n            this.props.products.map(product=>{\n              if(product.date.split(\" \")[0]===labels[i])\n                   j+=1\n                   return\n            })\n            Products.push(j);\n          }\n      }\n     return {labels:dates,series:[Orders,Products]}\n    }\n    // OrderDate();\n    const stock=()=>{\n      // console.log(\"Stock:\",products);\n      products.map(product=>{\n        if(parseInt(product.stock)>100)\n          highStock+=1;\n        else if(parseInt(product.stock)===0) \n        OutOfStock+=1;\n        else if(parseInt(product.stock)<10)\n          lowStock+=1;\n        if(product.rank && parseInt(product.rank)>0)\n        trending+=1;\n      })\n     \n    }\n    stock();\n    var total=highStock+ trending+ OutOfStock+lowStock;\n\n    var dataPie1 = {\n      labels: [parseInt(highStock/total*100)+\"%\", parseInt(trending/total*100)+\"%\",parseInt(OutOfStock/total*100)+\"%\",parseInt(lowStock/total*100)+\"%\"],\n      series: [highStock, trending, OutOfStock,lowStock]\n    };\n    return (\n      <div className=\"content\">\n        <AnimatedCard/>\n        <Container fluid>\n          {products.length===0?<Container><div style={{display:'flex',justifyContent:'center',alignItems:'center'}} ><Spinner style={{width:'5rem',height:'5rem'}} animation=\"border\" variant=\"primary\" /></div></Container>:<>\n          <Row>\n            <Col lg={3} sm={6}>\n              <StatsCard\n                color=\"#87CB16\"\n                bigIcon={<i class=\"fa fa-stack-overflow text-success\" ></i>}\n                statsText=\"High Stock\"\n                statsValue={highStock}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n              color=\"#1D62F0\"\n                bigIcon={<i class=\"fa fa-bolt text-primary\"></i>}\n                statsText=\"Trending\"\n                statsValue={trending}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n              color=\"#FF4A55\"\n                bigIcon={<i class=\"fa fa-exclamation-triangle text-danger\"></i>}\n                statsText=\"Out Of Stock\"\n                statsValue={OutOfStock}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n            <Col lg={3} sm={6}>\n              <StatsCard\n              color=\"#1DC7EA\"\n                bigIcon={<i class=\"fa fa-info text-info\"></i>}\n                statsText=\"Low Stock(<10)\"\n                statsValue={lowStock}\n                statsIcon={<i className=\"fa fa-refresh\" />}\n                statsIconText=\"Updated now\"\n              />\n            </Col>\n          </Row></>}\n          \n          <Row>\n            <Col md={8}>\n              <Card\n               icon={faTruckLoading}\n                statsIcon=\"fa fa-history\"\n                id=\"chartHours\"\n                title=\"Inventory Statistics\"\n                category=\"Weekly Performance of Order/Products\"\n                stats=\"Updated 3 minutes ago\"\n                content={\n                  <div className=\"ct-chart\">\n                    <ChartistGraph\n                      data={OrderDate()}\n                      type=\"Line\"\n                      options={optionsSales}\n                      responsiveOptions={responsiveSales}\n                    />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendSales)}</div>\n                }\n              />\n            </Col>\n            <Col md={4}>\n              <Card\n              icon={faCubes}\n                statsIcon=\"fa fa-clock-o\"\n                title=\"Products Stock\"\n                category=\"Last Campaign Performance\"\n                stats=\"Updated Now\"\n                content={\n                  <div\n                    id=\"chartPreferences\"\n                    className=\"ct-chart ct-perfect-fourth\"\n                  >\n                    <ChartistGraph data={dataPie1} type=\"Pie\"  />\n                  </div>\n                }\n                legend={\n                  <div className=\"legend\">{this.createLegend(legendPie)}</div>\n                }\n              />\n            </Col>\n          </Row>\n\n         \n        </Container>\n      </div>\n    );\n  }\n}\nconst mapStateToProps=state=>{\n  return{\n    orders:state.order.orders,\n    products:state.item.items\n  }\n}\nexport default connect(mapStateToProps,{getItems,getOrders})(Dashboard);\n"]},"metadata":{},"sourceType":"module"}