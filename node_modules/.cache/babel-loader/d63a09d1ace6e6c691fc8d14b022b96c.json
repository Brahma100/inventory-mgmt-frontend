{"ast":null,"code":"import { BLOCK, FREE_BLOCK, LOGIN_MODAL_OPEN, LOGIN_MODAL_CLOSE, USER_LOADED, USER_LOADING, AUTH_ERROR, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT_SUCCESS, REGISTER_FAIL, REGISTER_SUCCESS, UPDATE_SUCCESS } from '../action/types';\nimport { EXPIRE_EXTEND } from './../action/types';\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isLoading: false,\n  isLoaded: false,\n  isAuthenticated: null,\n  isUpdate: null,\n  user: null,\n  isModalOpen: false,\n  isBlocked: false\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_MODAL_OPEN:\n      return { ...state,\n        isModalOpen: true\n      };\n\n    case LOGIN_MODAL_CLOSE:\n      return { ...state,\n        isModalOpen: false\n      };\n\n    case BLOCK:\n      return { ...state,\n        isBlocked: true\n      };\n\n    case FREE_BLOCK:\n      return { ...state,\n        isBlocked: false\n      };\n\n    case USER_LOADING:\n      return { ...state,\n        isUpdate: false,\n        isLoading: true,\n        isLoaded: false\n      };\n\n    case USER_LOADED:\n      return { ...state,\n        isAuthenticated: true,\n        isLoaded: true,\n        isLoading: false,\n        user: action.payload\n      };\n\n    case LOGIN_SUCCESS:\n    case REGISTER_SUCCESS:\n      localStorage.setItem('token', action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        isLoading: false\n      };\n\n    case UPDATE_SUCCESS:\n      return { ...state,\n        ...action.payload,\n        isUpdate: true,\n        isAuthenticated: true,\n        isLoading: false\n      };\n\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT_SUCCESS:\n    case REGISTER_FAIL:\n      // case UPDATE_FAIL:\n      localStorage.removeItem('token');\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        isLoading: false,\n        user: null\n      };\n\n    case EXPIRE_EXTEND:\n      return { ...state,\n        rememberMe: action.payload\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/spicy/Downloads/Inventory-management-17/client/src/reducer/authReducer.js"],"names":["BLOCK","FREE_BLOCK","LOGIN_MODAL_OPEN","LOGIN_MODAL_CLOSE","USER_LOADED","USER_LOADING","AUTH_ERROR","LOGIN_FAIL","LOGIN_SUCCESS","LOGOUT_SUCCESS","REGISTER_FAIL","REGISTER_SUCCESS","UPDATE_SUCCESS","EXPIRE_EXTEND","initialState","token","localStorage","getItem","isLoading","isLoaded","isAuthenticated","isUpdate","user","isModalOpen","isBlocked","state","action","type","payload","setItem","removeItem","rememberMe"],"mappings":"AAAA,SAAQA,KAAR,EAAcC,UAAd,EAAyBC,gBAAzB,EAA0CC,iBAA1C,EAA4DC,WAA5D,EAAwEC,YAAxE,EAAqFC,UAArF,EAAgGC,UAAhG,EAA2GC,aAA3G,EAAyHC,cAAzH,EAAwIC,aAAxI,EAAsJC,gBAAtJ,EAAuKC,cAAvK,QAA4L,iBAA5L;AACA,SAASC,aAAT,QAA8B,mBAA9B;AAEA,MAAMC,YAAY,GAAC;AACfC,EAAAA,KAAK,EAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADS;AAEfC,EAAAA,SAAS,EAAC,KAFK;AAGfC,EAAAA,QAAQ,EAAC,KAHM;AAIfC,EAAAA,eAAe,EAAC,IAJD;AAKfC,EAAAA,QAAQ,EAAC,IALM;AAMfC,EAAAA,IAAI,EAAC,IANU;AAOfC,EAAAA,WAAW,EAAC,KAPG;AAQfC,EAAAA,SAAS,EAAC;AARK,CAAnB;AAWA,eAAe,UAASC,KAAK,GAACX,YAAf,EAA4BY,MAA5B,EAAmC;AAC9C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKzB,gBAAL;AACI,aAAM,EACF,GAAGuB,KADD;AAEFF,QAAAA,WAAW,EAAC;AAFV,OAAN;;AAKJ,SAAKpB,iBAAL;AACI,aAAM,EACF,GAAGsB,KADD;AAEFF,QAAAA,WAAW,EAAC;AAFV,OAAN;;AAKJ,SAAKvB,KAAL;AACI,aAAM,EACF,GAAGyB,KADD;AAEFD,QAAAA,SAAS,EAAC;AAFR,OAAN;;AAKJ,SAAKvB,UAAL;AACI,aAAM,EACF,GAAGwB,KADD;AAEFD,QAAAA,SAAS,EAAC;AAFR,OAAN;;AAKJ,SAAKnB,YAAL;AACI,aAAM,EACF,GAAGoB,KADD;AAEFJ,QAAAA,QAAQ,EAAC,KAFP;AAGFH,QAAAA,SAAS,EAAC,IAHR;AAIFC,QAAAA,QAAQ,EAAC;AAJP,OAAN;;AAOJ,SAAKf,WAAL;AACI,aAAM,EACF,GAAGqB,KADD;AAEFL,QAAAA,eAAe,EAAC,IAFd;AAGFD,QAAAA,QAAQ,EAAC,IAHP;AAIFD,QAAAA,SAAS,EAAC,KAJR;AAKFI,QAAAA,IAAI,EAACI,MAAM,CAACE;AALV,OAAN;;AAQJ,SAAKpB,aAAL;AACA,SAAKG,gBAAL;AACIK,MAAAA,YAAY,CAACa,OAAb,CAAqB,OAArB,EAA6BH,MAAM,CAACE,OAAP,CAAeb,KAA5C;AACA,aAAM,EACF,GAAGU,KADD;AAEF,WAAGC,MAAM,CAACE,OAFR;AAGFR,QAAAA,eAAe,EAAC,IAHd;AAIFF,QAAAA,SAAS,EAAC;AAJR,OAAN;;AAOJ,SAAKN,cAAL;AACI,aAAM,EACF,GAAGa,KADD;AAEF,WAAGC,MAAM,CAACE,OAFR;AAGFP,QAAAA,QAAQ,EAAC,IAHP;AAIFD,QAAAA,eAAe,EAAC,IAJd;AAKFF,QAAAA,SAAS,EAAC;AALR,OAAN;;AAQJ,SAAKZ,UAAL;AACA,SAAKC,UAAL;AACA,SAAKE,cAAL;AACA,SAAKC,aAAL;AACA;AACIM,MAAAA,YAAY,CAACc,UAAb,CAAwB,OAAxB;AACA,aAAM,EACF,GAAGL,KADD;AAEFV,QAAAA,KAAK,EAAC,IAFJ;AAGFK,QAAAA,eAAe,EAAC,KAHd;AAIFF,QAAAA,SAAS,EAAC,KAJR;AAKFI,QAAAA,IAAI,EAAC;AALH,OAAN;;AAOJ,SAAKT,aAAL;AACI,aAAM,EACF,GAAGY,KADD;AAEFM,QAAAA,UAAU,EAACL,MAAM,CAACE;AAFhB,OAAN;;AAIJ;AACI,aAAOH,KAAP;AAhFR;AAkFH","sourcesContent":["import {BLOCK,FREE_BLOCK,LOGIN_MODAL_OPEN,LOGIN_MODAL_CLOSE,USER_LOADED,USER_LOADING,AUTH_ERROR,LOGIN_FAIL,LOGIN_SUCCESS,LOGOUT_SUCCESS,REGISTER_FAIL,REGISTER_SUCCESS,UPDATE_SUCCESS} from '../action/types';\nimport { EXPIRE_EXTEND } from './../action/types';\n\nconst initialState={\n    token:localStorage.getItem('token'),\n    isLoading:false,\n    isLoaded:false,\n    isAuthenticated:null,\n    isUpdate:null,\n    user:null,\n    isModalOpen:false,\n    isBlocked:false,\n};\n\nexport default function(state=initialState,action){\n    switch(action.type){    \n        case LOGIN_MODAL_OPEN:\n            return{\n                ...state,\n                isModalOpen:true\n                \n            };\n        case LOGIN_MODAL_CLOSE:\n            return{\n                ...state,\n                isModalOpen:false\n                \n            };\n        case BLOCK:\n            return{\n                ...state,\n                isBlocked:true\n                \n            };\n        case FREE_BLOCK:\n            return{\n                ...state,\n                isBlocked:false\n                \n            };\n        case USER_LOADING:\n            return{\n                ...state,\n                isUpdate:false,\n                isLoading:true,\n                isLoaded:false\n                \n            };\n        case USER_LOADED:\n            return{\n                ...state,\n                isAuthenticated:true,\n                isLoaded:true,\n                isLoading:false,\n                user:action.payload,\n\n            };\n        case LOGIN_SUCCESS:\n        case REGISTER_SUCCESS:\n            localStorage.setItem('token',action.payload.token);\n            return{\n                ...state,\n                ...action.payload,\n                isAuthenticated:true,\n                isLoading:false,\n\n            };\n        case UPDATE_SUCCESS:\n            return{\n                ...state,\n                ...action.payload,\n                isUpdate:true,\n                isAuthenticated:true,\n                isLoading:false,\n\n            }; \n        case AUTH_ERROR:\n        case LOGIN_FAIL:\n        case LOGOUT_SUCCESS: \n        case REGISTER_FAIL:  \n        // case UPDATE_FAIL:\n            localStorage.removeItem('token');\n            return{\n                ...state,\n                token:null,\n                isAuthenticated:false,\n                isLoading:false,\n                user:null\n            };\n        case EXPIRE_EXTEND:\n            return{\n                ...state,\n                rememberMe:action.payload,\n            }\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}