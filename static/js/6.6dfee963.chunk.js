(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{392:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var r=a(9),n=a(39),s=a.n(n),c=a(22),i=function(){return function(e){e(d()),s.a.get("https://inventory-mgmt-server.herokuapp.com/customers").then((function(t){return e({type:r.p,payload:t.data})})).catch((function(t){return e(Object(c.b)(t.response.data,t.response.status))}))}},o=function(e){return function(t){s.a.post("https://inventory-mgmt-server.herokuapp.com/add_customer",e).then((function(e){return t({type:r.b,payload:e.data?e.data:{}})})).catch((function(e){return t(Object(c.b)(e.response.data,e.response.status))}))}},l=function(e){return function(t){console.log("Id of Customer",e);var a=JSON.stringify({id:e});console.log("Action Order Id",e),s.a.post("https://inventory-mgmt-server.herokuapp.com/delete_customer",a,{headers:{"Content-Type":"application/json"}}).then((function(a){return t({type:r.i,payload:e})})).catch((function(e){return t(Object(c.b)(e.response.data,e.response.status))}))}},d=function(){return{type:r.h}}},403:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var r=a(87),n=a(1),s=a(20),c=a(392),i=a(389),o=a(379),l=a(196),d=a(376),m=a(380),u=a(197),j=a(17),h=a(12),b=(a(403),a(10)),g=a(11),p=a(14),x=a(15),O=a(200),f=a(384),y=a(377),v=a(385),C=a(378),I=a(31),k=a(40),L=a(22),w=a(37),F=a(16),R=a(35),A=a(0),N=F.b({fname:F.c().min(3,"First Name must be at least 3 characters").max(24,"Last Name can be maximum 20 characters").required(),lname:F.c().min(3,"Last Name must be at least 3 characters").max(24,"Last Name can be maximum 20 characters").required(),address:F.c().max(100,"Address length must be less than 100 Chars").required(),email:F.c().email("Invalid email").required()}),S=function(e){Object(p.a)(a,e);var t=Object(x.a)(a);function a(){var e;Object(b.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={modal:!1,msg:null,imageURL:"",categories:e.props.categories},e.toggle=function(){e.props.clearErrors(),console.log(e.state.modal),e.setState({modal:!e.state.modal})},e.encodeImageFileAsURL=function(){console.log("image uploading func. called");var t=document.getElementById("inputFileToLoad").files;if(t.length>0){var a=t[0],r=new FileReader;r.onload=function(t){var a=t.target.result,r=document.createElement("img");r.src=a,e.setState({imageURL:r.src})},r.readAsDataURL(a)}},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.setState({categories:this.props.categories})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error;t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?this.setState({msg:a.msg.msg}):this.setState({msg:null}))}},{key:"render",value:function(){var e=this;return console.log("Categories:",this.state.categories),Object(A.jsxs)("div",{children:[Object(A.jsx)(O.a,{onClick:this.toggle,href:"#",children:Object(A.jsxs)(u.a,{children:[Object(A.jsx)(j.a,{icon:h.w}),Object(A.jsx)("h7",{style:{marginLeft:".3rem"},className:"newproductbuttontext",children:"Add New"})]})}),Object(A.jsxs)(f.a,{show:this.state.modal,onHide:this.toggle,children:[Object(A.jsx)(f.a.Header,{style:{color:"white",backgroundImage:'url("'.concat(R.a,'")'),backgroundSize:"32rem",backgroundRepeat:"no-repeat"},closeButton:!0,children:Object(A.jsx)("b",{children:"Add Customer"})}),Object(A.jsxs)(f.a.Body,{children:[this.state.msg?Object(A.jsx)(y.a,{color:"danger",children:this.state.msg}):null,Object(A.jsx)(w.a,{validationSchema:N,initialValues:{fname:"",lname:"",email:"",address:"",img:""},onSubmit:function(t){var a=t.fname,r=t.lname,n=t.address,s=t.email,c=e.state.imageURL;console.log("Image:",c);var i={fname:a,lname:r,email:s,address:n,img:c,by_user_id:e.props.user?e.props.user._id:""};console.log("New Customer:",i),e.props.addCustomer(i),e.toggle(),setTimeout((function(){e.props.getCustomers()}),1e3)},children:function(t){var a=t.handleSubmit,r=t.handleChange,n=t.values,s=t.errors;return Object(A.jsxs)(v.a,{noValidate:!0,onSubmit:a,children:[Object(A.jsxs)(v.a.Row,{children:[Object(A.jsxs)(v.a.Group,{as:l.a,md:"6",controlId:"validationFormik01",children:[Object(A.jsx)(v.a.Label,{children:"First Name"}),Object(A.jsx)(v.a.Control,{type:"text",placeholder:"First Name","aria-describedby":"inputGroupPrepend",name:"fname",value:n.fname,onChange:r,isInvalid:!!s.fname}),Object(A.jsx)(v.a.Control.Feedback,{type:"invalid",children:s.fname})]}),Object(A.jsxs)(v.a.Group,{as:l.a,md:"6",controlId:"validationFormik01",children:[Object(A.jsx)(v.a.Label,{children:"Last Name"}),Object(A.jsx)(v.a.Control,{type:"text",placeholder:"Last  Name","aria-describedby":"inputGroupPrepend",name:"lname",value:n.lname,onChange:r,isInvalid:!!s.lname}),Object(A.jsx)(v.a.Control.Feedback,{type:"invalid",children:s.lname})]})]}),Object(A.jsx)(v.a.Row,{children:Object(A.jsxs)(v.a.Group,{as:l.a,md:"12",controlId:"validationFormik02",children:[Object(A.jsx)(v.a.Label,{children:"Email"}),Object(A.jsxs)(C.a,{children:[Object(A.jsx)(C.a.Prepend,{children:Object(A.jsx)(C.a.Text,{id:"inputGroupPrepend",children:"@"})}),Object(A.jsx)(v.a.Control,{type:"text",placeholder:"Email",name:"email",value:n.email,onChange:r,isInvalid:!!s.email}),Object(A.jsx)(v.a.Control.Feedback,{type:"invalid",children:s.email})]})]})}),Object(A.jsx)(v.a.Row,{children:Object(A.jsxs)(v.a.Group,{as:l.a,md:"12",controlId:"validationFormik03",children:[Object(A.jsx)(v.a.Label,{children:"Address"}),Object(A.jsx)(v.a.Control,{type:"text",placeholder:"Address",name:"address",value:n.address,onChange:r,isInvalid:!!s.address}),Object(A.jsx)(v.a.Control.Feedback,{type:"invalid",children:s.address})]})}),Object(A.jsx)(v.a.Row,{children:Object(A.jsx)(v.a.Group,{as:l.a,md:"7",controlId:"validationFormik07",children:Object(A.jsx)("div",{className:"mb-3",children:Object(A.jsxs)(v.a.File,{id:"formcheck-api-regular",children:[Object(A.jsx)(v.a.File.Label,{children:"Customer Image"}),Object(A.jsx)("input",{id:"inputFileToLoad",type:"file",onChange:e.encodeImageFileAsURL})]})})})}),Object(A.jsx)(u.a,{type:"submit",children:"Submit"})]})}})]})]})]})}}]),a}(n.Component),G=Object(s.b)((function(e){return{categories:e.category.categories,user:e.auth.user,error:e.error}}),{getCustomers:c.c,clearErrors:L.a,addItem:I.a,getCategories:k.a,addCustomer:c.a})(S),E=a(73);t.default=Object(s.b)((function(e){return{customers:e.customer.customers}}),{getCustomers:c.c,deleteCustomer:c.b})((function(e){var t=Object(n.useState)([]),a=Object(r.a)(t,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){e.getCustomers()}),[]),Object(n.useEffect)((function(){e.customers.length>0&&(c(e.customers),console.log("Customers:",s))}),[e.customers]),Object(A.jsxs)("div",{children:[Object(A.jsx)(i.a,{style:{margin:"1rem",padding:"1rem"},children:Object(A.jsxs)(o.a,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(A.jsx)(l.a,{sm:9,children:Object(A.jsx)(o.a,{children:Object(A.jsxs)(l.a,{style:{display:"flex",flexDirection:"column"},children:[Object(A.jsx)("h7",{children:Object(A.jsx)("b",{children:"Customers"})}),Object(A.jsx)("span",{style:{color:"gray"},children:"Our Loving Customers"})]})})}),Object(A.jsx)(l.a,{sm:2,children:Object(A.jsx)(G,{})})]})}),Object(A.jsx)(d.a,{children:Object(A.jsx)(d.a,{children:0===e.customers.length?Object(A.jsx)(m.a,{style:{width:"5rem",height:"5rem"},animation:"border",variant:"primary"}):Object(A.jsx)(o.a,{children:e.customers.map((function(t,a){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{children:Object(A.jsxs)(i.a,{style:{width:"18rem",height:"11.5rem",margin:"1rem"},children:[Object(A.jsx)(i.a.Header,{children:Object(A.jsxs)(o.a,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-around"},children:[t.img?Object(A.jsx)("img",{alt:"alt",src:t.img?t.img:{avatar:E.a},style:{marginRight:"1rem",textAlign:"center",color:"white",borderRadius:"50%",width:"3rem",height:"3rem",background:"#ed3f2f"}}):Object(A.jsx)("div",{style:{marginRight:"1rem",textAlign:"center",padding:".8rem",color:"white",borderRadius:"50%",width:"3rem",height:"3rem",background:"#ed3f2f"},children:t.fname[0]+t.lname[0]}),Object(A.jsx)("h7",{children:t.fname+" "+t.lname}),Object(A.jsx)("div",{style:{flex:1},children:Object(A.jsx)(u.a,{onClick:function(){return e.deleteCustomer(t.id)},style:{float:"right"},variant:"danger",size:"sm",children:Object(A.jsx)(j.a,{icon:h.F})})})]})}),Object(A.jsxs)(i.a.Body,{style:{marginLeft:"1rem"},children:[Object(A.jsxs)(o.a,{style:{display:"flex",alignItems:"center",color:"gray"},children:[Object(A.jsx)(j.a,{style:{marginRight:".5rem"},icon:h.p}),t.email]}),Object(A.jsxs)(o.a,{style:{display:"flex",alignItems:"center",color:"gray"},children:[Object(A.jsx)(j.a,{style:{marginRight:".5rem"},icon:h.u}),t.address?t.address.substring(0,25):"","..."]}),Object(A.jsxs)(o.a,{style:{display:"flex",alignItems:"center",color:"gray"},children:[Object(A.jsx)(j.a,{style:{marginRight:".5rem"},icon:h.e}),t.date]})]})]},a)})})}))})})})]})}))}}]);
//# sourceMappingURL=6.6dfee963.chunk.js.map